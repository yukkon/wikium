webpackJsonp([8],{"3ux7":function(i,e,n){i.exports=n.p+"images/a485eb43505b6a202de8e635e37cf9f9.png"},"4ryg":function(i,e,n){i.exports='<div class="game-screen game-screen--find-a-coin game-state-init" ng-class="{\'game-state-init\': !gameState.init}"> <div class=find-a-coin> <div class=find-a-coin__bg> <svg class=find-a-coin__bg-fish-1 ng-if=!$root.mobile.android.device> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{gameState.img + \'#fish-1\'}}"/> </svg> <svg class=find-a-coin__bg-fish-2 ng-if=!$root.mobile.android.device> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{gameState.img + \'#fish-2\'}}"/> </svg> <svg class=find-a-coin__bg-fish-3 width=140 ng-if=!$root.mobile.android.device> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{gameState.img + \'#fish-3\'}}"/> </svg> <img class=find-a-coin__bg-waves src='+n("3ux7")+' alt=Waves ng-if=!$root.mobile.android.device> </div> <div class=find-a-coin__inner ng-class="{\'find-a-coin__inner--come-in\': !gameState.answer, \'find-a-coin__inner--go-out\': gameState.answer}"> <div class=find-a-coin__row ng-repeat="row in gameState.matrix.tiles"> <button class=find-a-coin__item ng-click=answer(tile) ng-disabled="!tile.visible || !tile.enabled" ng-class=tile.getClasses() ng-repeat="tile in row"> <div ng-if=tile.visible ng-class="(tile.correctAnswer() && !tile.answer ? \' game-answer-hint\' : \'\')" class="find-a-coin__icon find-a-coin__icon--lily"> <svg width=88 height=56> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{gameState.img + tile.type}}"/> </svg> </div> <div class="find-a-coin__icon find-a-coin__icon--frog"> <svg width=62 height=64> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{gameState.img + \'#frog\'}}"/> </svg> </div> </button> </div> </div> </div> </div> '},"8v5g":function(i,e){i.exports=PIXI},FSji:function(i,e,n){"use strict";angular.module("wgGame").service("MatchGameStrategy",["wgProperties","wgWaitSeconds","wgImagePreloader","$timeout",function(i,e,t,a){function s(i,e){for(var n=[],t=0;t<e;t++){for(var a=[],s=0;s<i;s++){var r=new g({x:s,y:t});r.visible=!1,a.push(r)}n.push(a)}return new c(i,e,n)}function r(){l.matrix.asArray().forEach(function(i){i.enabled=!0})}function o(){l.matrix.asArray().forEach(function(i){i.enabled=!1})}function c(i,e,n){this.n=i,this.m=e,this.tiles=n}function g(i){this.index=-1,this.type="#water-lily-"+_.random(1,3),this.x=i.x,this.y=i.y,this.enabled=!1,this.highlighted=!1,this.answered=!1,this.correctness=!1}var l,f=i.build();this.buildInitialGameState=function(){return l={matrix:null,init:!1,img:n("lVx8")}},this.buildGameState=function(){l.matrix=null;var i=f.getProperty("matrix")||{width:5,height:5},e=i.width,n=i.height,t=f.getProperty("numberOfBoxes")||3,o=f.getProperty("numberOfCoins")||3,c=s(e,n),g=c.asArray().shuffle().take(t),d=0;return g.forEach(function(i){i.index=d++,i.visible=!0,i.coinWasHere=!1,i.weWereHere=!1}),g.take(o).forEach(function(i){i.hasCoin=!0}),l.coinsLeft=o,l.matrix=c,l.numberOfBoxes=t,l.failCount=0,l.currentIndex=0,r(),l.init||a(function(){return l.init=!0},500),l.answer=!1,l},this.handleAnswer=function(i){var e=i.correctAnswer();return i.weWereHere=!0,e?i.hasCoin&&i.index===l.currentIndex?(i.hasCoin=!1,i.coinWasHere=!0,l.currentIndex++,l.coinsLeft--,f.getProperty("showVisitedCoins")&&i.highlight(),i.gotCoin(),l.matrix.asArray().forEach(function(i){i.weWereHere=!1})):i.missCoin():(l.failCount++,i.incorrect()),i.enabled=!1,a(function(){return i.cleanAnswer.bind(i)()},1e3),e},this.isReadyForNextState=function(){return l.coinsLeft<=0||l.failCount>0},this.destroyGameState=function(){return o(),e(.8)().then(function(){l.answer=!0}).then(e(.5))},c.prototype.forEachTile=function(i){for(var e=0;e<this.m;e++)for(var n=0;n<this.n;n++)i(this.tiles[e][n])},c.prototype.asArray=function(){var i=[];return this.forEachTile(function(e){i.push(e)}),i},c.prototype.getTile=function(i,e){if(i>=this.x)throw new Error("x out of range");if(e>=this.y)throw new Error("y out of range");return this.tiles[e][i]},g.prototype.getClasses=function(){return this.error?"find-a-coin__item--active-error":this.answered?this.coinWasHere?"find-a-coin__item--active":"find-a-coin__item--target":""},g.prototype.highlight=function(){this.highlighted=!0},g.prototype.correctAnswer=function(){return!this.weWereHere&&!this.coinWasHere},g.prototype.normal=function(){this.highlighted=!1},g.prototype.cleanAnswer=function(){this.answered=!1,this.enabled=!0},g.prototype.incorrect=function(){this.answered=!0,this.error=!0,this.result="incorrect"},g.prototype.gotCoin=function(){this.answered=!0,this.result="got-coin"},g.prototype.missCoin=function(){this.answered=!0,this.result="miss-coin"}}])},H9v3:function(i,e,n){"use strict";angular.module("wgGame").config(["$stateProvider",function(i){i.state("game",{views:{pages:{templateUrl:"game-container.html"},"container@game":{template:n("dofj")}}})}])},HWZb:function(i,e){i.exports=p2},Nz1a:function(i,e,n){"use strict";n("/jXN").module("wgGame",["wgCore"]).constant("gameName","find-a-coin")},UhgH:function(i,e){},"V/Xp":function(i,e,n){"use strict";angular.module("wgGame").run(["$state",function(i){i.go("loading")}])},X9T7:function(i,e,n){"use strict";var t,a;t=[n("/jXN")],void 0!==(a=function(i){function e(i,e,n,t){var a=0;e.gameState=n.buildInitialGameState(),e.answer=function(e){e.correctAnswer()&&(n.handleAnswer(e),n.isReadyForNextState()&&(a++,a>2?i.go("game"):n.destroyGameState().then(function(){return n.buildGameState()})))},e.mapGameStateToAnswer=function(){return n.mapGameStateToAnswer()},t(function(){n.buildGameState()},0)}i.module("wgGame").config(["$stateProvider",function(i){i.state("game-training",{views:{pages:{template:n("4ryg"),controller:["$state","$scope","MatchGameStrategy","$timeout",e]}}})}])}.apply(e,t))&&(i.exports=a)},dofj:function(i,e,n){i.exports='<div ng-controller=GameCtrl class="game-screen game-screen--find-a-coin" ng-class="{\'game-state-init\': !gameState.init}"> <wg-menu></wg-menu> <wg-answer-result></wg-answer-result> <div ui-view=stages></div> <div class=find-a-coin> <div class=find-a-coin__bg> <svg class=find-a-coin__bg-fish-1 ng-if=!$root.mobile.android.device> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{gameState.img + \'#fish-1\'}}"/> </svg> <svg class=find-a-coin__bg-fish-2 ng-if=!$root.mobile.android.device> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{gameState.img + \'#fish-2\'}}"/> </svg> <svg class=find-a-coin__bg-fish-3 width=140 ng-if=!$root.mobile.android.device> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{gameState.img + \'#fish-3\'}}"/> </svg> <img class=find-a-coin__bg-waves src='+n("3ux7")+' alt=Waves ng-if=!$root.mobile.android.device> </div> <div class=find-a-coin__inner ng-class="{\'find-a-coin__inner--come-in\': !gameState.answer, \'find-a-coin__inner--go-out\': gameState.answer}"> <div class=find-a-coin__row ng-repeat="row in gameState.matrix.tiles"> <button class=find-a-coin__item ng-click=answer(tile) ng-disabled="!tile.visible || !tile.enabled" ng-class=tile.getClasses() ng-repeat="tile in row"> <div ng-if=tile.visible class="find-a-coin__icon find-a-coin__icon--lily"> <svg width=88 height=56> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{gameState.img + tile.type}}"/> </svg> </div> <div class="find-a-coin__icon find-a-coin__icon--frog"> <svg width=62 height=64> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{gameState.img + \'#frog\'}}"/> </svg> </div> </button> </div> </div> </div> </div> '},eTmM:function(i,e,n){"use strict";n("Nz1a"),n("H9v3"),n("FSji"),n("6Tig"),n("UhgH"),n("V/Xp"),n("X9T7")},lVx8:function(i,e,n){i.exports=n.p+"images/8cdc310672c92bf7f4ed8f7fe40588d2.svg"},tzQp:function(i,e){i.exports=Phaser}},["eTmM"]);