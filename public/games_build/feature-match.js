webpackJsonp([30],{"+U7A":function(e,t){e.exports='<div ng-controller=GameCtrl class="game-screen game-screen--feature-match"> <wg-menu></wg-menu> <wg-answer-result></wg-answer-result> <wg-game-answer-yes-no on-click=answer(click) ng-show="$root.countDown.left == 0"></wg-game-answer-yes-no> <div ui-view=stages></div> <div class=feature-match> <div class=feature-match__inner> <div class="feature-match__box feature-match__box--1"> <table class=feature-match__table> <tr ng-repeat="row in gameState.leftItems" class=feature-match__row> <td ng-repeat="item in row" class=feature-match__cell> <div ng-if=item.figure ng-class="\'figure figure--\' + item.figure"></div> </td> </tr> </table> </div> <div class="feature-match__box feature-match__box--2"> <table class=feature-match__table> <tr ng-repeat="row in gameState.rightItems" class=feature-match__row> <td ng-repeat="item in row" class=feature-match__cell> <div ng-if=item.figure ng-class="\'figure figure--\' + item.figure"></div> </td> </tr> </table> </div> </div> </div> </div> '},"+eEw":function(e,t,a){"use strict";a("/Sdi"),a("NWNP"),a("scYW"),a("pRCW"),a("V6/O"),a("gV31"),a("GRbl")},"/Sdi":function(e,t,a){"use strict";a("/jXN").module("wgGame",["hmTouchEvents","wgCore"]).constant("gameName","feature-match").config(["$translateLoaderProvider",function(e){}])},"8v5g":function(e,t){e.exports=PIXI},F6Q3:function(e,t){e.exports='<div class="game-screen game-screen--feature-match"> <div class=feature-match> <wg-game-answer-yes-no ng-class="\'game-answer-\' + mapGameStateToAnswer()" on-click=answer(click)></wg-game-answer-yes-no> <div class=feature-match__inner> <div class="feature-match__box feature-match__box--1"> <table class=feature-match__table> <tr ng-repeat="row in gameState.leftItems" class=feature-match__row> <td ng-repeat="item in row" class=feature-match__cell> <div ng-if=item.figure ng-class="\'figure figure--\' + item.figure"></div> </td> </tr> </table> </div> <div class="feature-match__box feature-match__box--2"> <table class=feature-match__table> <tr ng-repeat="row in gameState.rightItems" class=feature-match__row> <td ng-repeat="item in row" class=feature-match__cell> <div ng-if=item.figure ng-class="\'figure figure--\' + item.figure"></div> </td> </tr> </table> </div> </div> </div> </div> '},GRbl:function(e,t,a){"use strict";var r,n;r=[a("/jXN")],void 0!==(n=function(e){function t(e,t,a,r,n){function i(e){t.answer(a.mapKeyToAnswer(e.keyCode))}var s=0;t.gameState=a.buildInitialGameState(),t.answer=function(r){r===t.mapGameStateToAnswer()&&(s++,s>2?e.go("game"):a.buildGameState())},n.on("keydown",i),t.mapGameStateToAnswer=function(){return a.mapGameStateToAnswer()},t.$on("$destroy",function(){n.off("keydown",i)}),r(function(){a.buildGameState()},0)}e.module("wgGame").config(["$stateProvider",function(e){e.state("game-training",{views:{pages:{template:a("F6Q3"),controller:["$state","$scope","MatchGameStrategy","$timeout","$document",t]}}})}])}.apply(t,r))&&(e.exports=n)},HWZb:function(e,t){e.exports=p2},NWNP:function(e,t,a){"use strict";angular.module("wgGame").config(["$stateProvider",function(e){e.state("game",{views:{pages:{templateUrl:"game-container.html"},"container@game":{template:a("+U7A")}}})}])},"V6/O":function(e,t){},gV31:function(e,t,a){"use strict";angular.module("wgGame").run(["$state",function(e){e.go("firstGameIframe"==window.name?"screen11":"loading")}])},scYW:function(e,t,a){"use strict";angular.module("wgGame").service("MatchGameStrategy",["$rootScope","wgProperties","$timeout","wgWaitSeconds","$q",function(e,t,a,r,n){function i(e,t,a){var r=_.times(t-e.length,a);return _.concat(e,r)}function s(e,t,a){var r=_.range(a).map(function(e){return{figure:_.sample(f)}});return _.shuffle(i(r,e*t,function(){return{figure:""}}))}function c(e){var t=_.sample(e.filter(function(e){return""!=e.figure}));t.figure=_.sample(f.filter(function(e){return e!=t.figure}))}function u(){var e=Math.randomBoolean(),t=l.getProperty("items.n")||3,a=l.getProperty("items.m")||3,r=l.getProperty("items.count")||3,n=s(t,a,r),i=_.cloneDeep(n);e||c(i),m.leftItems=_.chunk(n,t),m.rightItems=_.chunk(i,t),m.currentAnswer=e?"yes":"no"}var o,m,l=t.build(),f=["circle","disc","square-outline","square-fill","square-half-fill","disc-half-fill","circle-half","square-half-outline"];this.buildInitialGameState=function(){return m={init:!1,answer:!1,currentAnswer:0,leftItems:[],rightItems:[]}},this.buildGameState=function(){return o&&o.resolve(),o=n.defer(),m.answer=m.init,r(.1)().then(function(){return m.init=!0,m.answer=!1,u(),m})},this.mapGameStateToAnswer=function(){return m.currentAnswer},this.isOver=function(){return!o.promise||o.promise},this.handleAnswerResult=function(e,t){return o.resolve(),!0},this.mapKeyToAnswer=function(e){switch(e){case 39:return"yes";case 37:return"no"}}}])},tzQp:function(e,t){e.exports=Phaser}},["+eEw"]);