webpackJsonp([28],{"0Qxq":function(e,t,i){"use strict";i("/jXN").module("wgGame",["wgCore"]).constant("gameName","find-pair")},"8v5g":function(e,t){e.exports=PIXI},"9dCH":function(e,t){e.exports='<div class=game-screen> <section class=find-pair ng-class="gameState.isComplete ? \'game-state-init\' : \'\'"> <h5 class=find-pair__instruction>{{ \'game.title\'|translate }}</h5> <div class=find-pair__container> <div class=find-pair__row ng-repeat="col in gameState.matrix.tiles"> <div class=find-pair__cell-wrap> <div class=find-pair__cell ng-repeat="cell in col" ng-class=cell.class ng-click=answer(cell)> <svg class=find-pair__icon width=48 height=48> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{\'/games_build/images/icons/find-pair-symbols.svg#icon-\' + cell.id}}"></use> </svg> </div> </div> </div> </div> </section> </div> '},GCq6:function(e,t){},HWZb:function(e,t){e.exports=p2},PgDz:function(e,t,i){"use strict";var a=i("Gu7T"),n=function(e){return e&&e.__esModule?e:{default:e}}(a);angular.module("wgGame").service("MatchGameStrategy",["MatrixService","wgProperties","$timeout","$q","wgBonusesBySpeed","$rootScope","wgLevelsMechanics",function(e,t,i,a,r,s,l){function o(){var e=h.getProperty("matrix")||{n:4,m:4};return s.isMobile&&e.m>e.n?{m:e.n,n:e.m}:e}function c(){var t=o(),i=52*t.n+28,a=52*t.m+28,n=.5*(480-a);e.top=n,e.width=i,e.height=a}function u(){var e=o(),t=m(e.n,e.m);v.matrix=t.matrix,v.targetItemType=t.targetItemType}function m(e,t){function i(){for(var e=[],t=0;t<r.length;t++)for(var i=0;i<r[t].length;i++)r[t][i].id===s.targetItemType&&e.push(r[t][i]);if(Math.abs(e[0].x-e[1].x)+Math.abs(e[0].y-e[1].y)<=2&&c>=16)return!0}function a(){for(var u=[].concat((0,n.default)(s.collection)),m=0;m<t;m++){for(var g=[],d=0;d<e;d++){var f=_.sample(u);u.splice(u.indexOf(f),1);var p={x:d,y:m,id:f};c++,g.push(p)}r.push(g)}l<o&&i()&&(l++,r=[],c=0,a())}var r=[],s=d(e,t),l=0,o=10,c=0;return a(),{targetItemType:s.targetItemType,matrix:new f(e,t,r)}}function g(){return void 0!==h.getProperty("numberOfIdenticalItems")?h.getProperty("numberOfIdenticalItems"):2}function d(e,t){var i,a,n=[],r=g(),s=e*t-r;for(s++,r--,a=1;a<=s;a++)n.push(a);for(i=n[Math.floor(n.length*Math.random())],a=1;a<=r;a++)n.push(i);return n.sort(function(){return Math.random()-.5}),{targetItemType:i,collection:n}}function f(e,t,i){this.n=e,this.m=t,this.tiles=i}var p,h=t.build(),v={},w=s.browser.name,x=l.getState();v.isComplete=!0,v.hardLevels=!1,this.buildInitialGameState=function(){return v.matrix=null,v},this.buildGameState=function(){return p&&p.resolve(),p=a.defer(),v.hardLevels=x.value>11,c(),v.isComplete=!1,u(),i(function(){r.resetAnswerTiming},550)},this.handleAnswer=function(e,t){var i=e.id===v.targetItemType;return t?i:(e.class=i?"find-pair__cell--success":"find-pair__cell--error",v.matrix.forEachTile(function(e){e.id===v.targetItemType&&i?e.class="find-pair__cell--success":e.id!==v.targetItemType||i||(e.class="find-pair__cell--correct")}),i)},this.isReadyForNextState=function(){return!0},this.isOver=function(){return!p||p.promise},this.destroyGameState=function(e){var t=e?0:1e3;return i(function(){return v.isComplete=!0,i(function(){return v.matrix=null,p.resolve(),_.includes(["ie","edge","ios"],w)?i(10):null},600)},t)},f.prototype.forEachTile=function(e){for(var t=0;t<this.m;t++)for(var i=0;i<this.n;i++)e(this.tiles[t][i])}}]),angular.module("wgGame").service("MatrixService",function(){return{width:0,height:0}}),angular.module("wgGame").controller("MatrixCtrl",["MatrixService","$scope",function(e,t){t.style={width:"",height:""},t.data=e,t.$watch("data.top",function(e){t.style.top=e+"px"}),t.$watch("data.width",function(e){t.style.width=e+"px",t.style.opacity=e>0?1:0}),t.$watch("data.height",function(e){t.style.height=e+"px"})}])},Sm2M:function(e,t,i){"use strict";i("0Qxq"),i("XEx3"),i("PgDz"),i("6Tig"),i("GCq6"),i("ouMp"),i("lvaK")},WgMm:function(e,t){e.exports='<div ng-controller=GameCtrl> <div class=game-screen> <section class=find-pair ng-class="{\'game-state-init\' : gameState.isComplete, \'find-pair--large\' : gameState.hardLevels}"> <h5 class=find-pair__instruction>{{ \'game.title\'|translate }}</h5> <div class=find-pair__container> <div class=find-pair__row ng-repeat="col in gameState.matrix.tiles"> <div class=find-pair__cell-wrap> <div class=find-pair__cell ng-repeat="cell in col" ng-class=cell.class ng-click=answer(cell)> <svg class=find-pair__icon width=48 height=48> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href="" ng-href="{{\'/games_build/images/icons/find-pair-symbols.svg#icon-\' + cell.id}}"></use> </svg> </div> </div> </div> </div> </section> </div> <wg-answer-result></wg-answer-result> <wg-menu></wg-menu> </div> '},XEx3:function(e,t,i){"use strict";angular.module("wgGame").config(["$stateProvider",function(e){e.state("game",{views:{pages:{templateUrl:"game-container.html"},"container@game":{template:i("WgMm")}}})}])},lvaK:function(e,t,i){"use strict";var a,n;a=[i("/jXN")],void 0!==(n=function(e){function t(e,t,i,a){function n(){for(var e=0;e<t.gameState.matrix.tiles.length;e++)for(var i=0;i<t.gameState.matrix.tiles[e].length;i++)t.gameState.matrix.tiles[e][i].id===t.gameState.targetItemType&&(t.gameState.matrix.tiles[e][i].class="find-pair__cell--answer")}var r=0;t.gameState=i.buildInitialGameState(),t.answer=function(t){i.handleAnswer(t,!0)&&(1===r&&i.destroyGameState(!0).then(function(){e.go("game")}),i.destroyGameState(!0).then(function(){r++,i.buildGameState().then(n)}))},a(function(){i.buildGameState().then(n)},0)}e.module("wgGame").config(["$stateProvider",function(e){e.state("game-training",{views:{pages:{template:i("9dCH"),controller:["$state","$scope","MatchGameStrategy","$timeout",t]}}})}])}.apply(t,a))&&(e.exports=n)},ouMp:function(e,t,i){"use strict";angular.module("wgGame").run(["$state",function(e){e.go("loading")}])},tzQp:function(e,t){e.exports=Phaser}},["Sm2M"]);