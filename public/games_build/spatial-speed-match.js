webpackJsonp([14],{"+81A":function(e,t,a){"use strict";a("DoQk"),a("rvxz"),a("5LTt"),a("pRCW"),a("RzIe"),a("uwQy"),a("M95B")},"5LTt":function(e,t,a){"use strict";angular.module("wgGame").service("MatchGameStrategy",["$rootScope","wgProperties","$timeout","wgWaitSeconds","$q","wgGameOverOnErrors",function(e,t,a,s,n,i){function r(){var e=_.random(m-1);return _.range(m).map(function(t){return{state:t===e}})}function c(){var e=r();d.currentAnswer=_.isEqual(d.dots.map(function(e){return e.state}),d.nextDots.map(function(e){return e.state}))?"yes":"no",_.merge(d.dots,d.nextDots),a(function(){_.merge(d.nextDots,e),d.nextTaskAnimation=!1},100)}var d,o,m=(t.build(),3);this.buildInitialGameState=function(){return d={dots:[],answer:!1,init:!1,nextDots:r(),nextTaskAnimation:!1,currentAnswer:"no"}},this.buildGameState=function(){var e=this;return o&&o.resolve(),o=n.defer(),d.init||c(),s(d.init?.1:.8)().then(function(){return d.answer=!0,d.nextTaskAnimation=d.init,s(.2)().then(function(){return d.init?(c(),d.init=!0,d.answer=!1,d):(d.init=!0,d.answer=!1,e.buildGameState())})})},this.mapGameStateToAnswer=function(){return d.currentAnswer},this.isOver=function(){return!!i.isOver()||!o.promise||o.promise},this.handleAnswerResult=function(e,t){return a(300).then(function(){o.resolve()}),!0},this.mapKeyToAnswer=function(e){switch(e){case 39:return"yes";case 37:return"no"}}}])},"6Hgf":function(e,t){e.exports='<div ng-controller=GameCtrl class="game-screen game-screen--spatial-speed-match"> <wg-answer-result></wg-answer-result> <wg-game-answer-yes-no on-click=answer(click)></wg-game-answer-yes-no> <div ui-view=stages></div> <div class="game-screen game-screen--spatial-speed-match"> <div class=spatial-speed-match ng-class="{\'game-init\': !gameState.init, \'game-start \': gameState.nextTaskAnimation}"> <div class=spatial-speed-match__cards> <div class=spatial-speed-match__card> <div class=spatial-speed-match__card-prev> <div ng-repeat="dot in gameState.dots" ng-class="{\'spatial-speed-match__round--active\':dot.state}" class=spatial-speed-match__round> <div class=spatial-speed-match__round-inner></div> </div> </div> <div class=spatial-speed-match__card-next> <div ng-repeat="dot in gameState.nextDots" ng-class="{\'spatial-speed-match__round--active\':dot.state}" class=spatial-speed-match__round> <div class=spatial-speed-match__round-inner></div> </div> </div> </div> <div class=spatial-speed-match__card> <div class=spatial-speed-match__card-old></div> <div class=spatial-speed-match__card-new></div> </div> </div> </div> </div> <wg-menu></wg-menu> </div> '},"8v5g":function(e,t){e.exports=PIXI},DoQk:function(e,t,a){"use strict";a("/jXN").module("wgGame",["wgCore"]).constant("gameName","spatial-speed-match")},HWZb:function(e,t){e.exports=p2},M95B:function(e,t,a){"use strict";var s,n;s=[a("/jXN")],void 0!==(n=function(e){function t(e,t,a,s,n){function i(e){t.answer(a.mapKeyToAnswer(e.keyCode))}var r=0;t.gameState=a.buildInitialGameState(),t.answer=function(s){s===t.mapGameStateToAnswer()&&(r++,r>2?e.go("game"):a.buildGameState())},n.on("keydown",i),t.mapGameStateToAnswer=function(){return a.mapGameStateToAnswer()},t.$on("$destroy",function(){n.off("keydown",i)}),s(function(){a.buildGameState()},0)}e.module("wgGame").config(["$stateProvider",function(e){e.state("game-training",{views:{pages:{template:a("yuGi"),controller:["$state","$scope","MatchGameStrategy","$timeout","$document",t]}}})}])}.apply(t,s))&&(e.exports=n)},RzIe:function(e,t){},rvxz:function(e,t,a){"use strict";angular.module("wgGame").config(["$stateProvider",function(e){e.state("game",{views:{pages:{templateUrl:"game-container.html"},"container@game":{template:a("6Hgf")}}})}])},tzQp:function(e,t){e.exports=Phaser},uwQy:function(e,t,a){"use strict";angular.module("wgGame").run(["$state",function(e){e.go("loading")}])},yuGi:function(e,t){e.exports='<div class="game-screen game-screen--spatial-speed-match"> <wg-game-answer-yes-no ng-class="gameState.init ? \'game-answer-\' + mapGameStateToAnswer() : \'\'" on-click=answer(click)></wg-game-answer-yes-no> <div class=spatial-speed-match ng-class="{\'game-init\': !gameState.init, \'game-start \': gameState.nextTaskAnimation}"> <div class=spatial-speed-match__cards> <div class=spatial-speed-match__card> <div class=spatial-speed-match__card-prev> <div ng-repeat="dot in gameState.dots" ng-class="{\'spatial-speed-match__round--active\':dot.state}" class=spatial-speed-match__round> <div class=spatial-speed-match__round-inner></div> </div> </div> <div class=spatial-speed-match__card-next> <div ng-repeat="dot in gameState.nextDots" ng-class="{\'spatial-speed-match__round--active\':dot.state}" class=spatial-speed-match__round> <div class=spatial-speed-match__round-inner></div> </div> </div> </div> <div class=spatial-speed-match__card> <div class=spatial-speed-match__card-old></div> <div class=spatial-speed-match__card-new></div> </div> </div> </div> </div> '}},["+81A"]);