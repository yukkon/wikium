webpackJsonp([33],{"613o":function(a,e){},"7A1M":function(a,e,t){"use strict";var n,o;n=[t("/jXN")],void 0!==(o=function(a){function e(a,e,t,n){var o=0;e.gameState=t.buildInitialGameState(),e.answer=function(c){c===e.mapGameStateToAnswer()&&(o++,o>1?a.go("game"):(e.gameState.answer=!0,e.gameState.collection=[],n(function(){e.gameState.answer=!1},300),n(function(){t.buildGameState()},200)))},e.$on("keydown",function(a,o){n(function(){e.answer(t.mapKeyToAnswer(o))},200)}),e.mapGameStateToAnswer=function(){if(e.gameState.collection[0]&&e.gameState.collection[1])return t.mapGameStateToAnswer()},n(function(){t.buildGameState()},0)}a.module("wgGame").config(["$stateProvider",function(a){a.state("game-training",{views:{pages:{template:t("kGPB"),controller:["$state","$scope","MatchGameStrategy","$timeout",e]}}})}])}.apply(e,n))&&(a.exports=o)},"7sub":function(a,e,t){"use strict";angular.module("wgGame").service("MatchGameStrategy",["wgGameSettings","wgProperties","$timeout","$q","wgWaitSeconds",function(a,e,t,n,o){function c(a){var e=[];return i.answer&&e.push("game-color-match-2__card--rotate"),a&&e.push("game-color-match-2__card--"+a.name),e}var r,i,l,s=e.build();a().then(function(a){r=a}),this.buildInitialGameState=function(){return i={answer:!1,init:!1,collection:[],class:c}},this.buildGameState=function(){var a;return i.init||(t(function(){i.init=!0},0),a=o(1)()),n.when(a).then(function(){function a(){var a=g[Math.floor(g.length*Math.random())];if(!o.hasOwnProperty(a))throw new Error('try to use color "'+a+"\" that doesn't describe in settings.colors");return a}l&&l.resolve(),l=n.defer();for(var e,t,o=r.colors,c=2,m=[],g=s.getProperty("colors.availableColor"),u=Math.floor(2*Math.random());--c>=0;){if(0===u)t?(e=o[t].value,t=a()):(t=a(),e=o[a()].value);else if(1===u)if(t){var d=g.filter(function(a){return a!==t}),t=d[Math.floor(d.length*Math.random())];if(!o.hasOwnProperty(t))throw new Error('try to use color "'+t+"\" that doesn't describe in settings.colors");e=o[t].value,t=a()}else t=a(),e=o[a()].value;m.push({value:e,name:t,nameTitle:o[t].title})}i.collection=m})},this.isOver=function(){return!l.promise||l.promise},this.handleAnswer=function(){return i.answer=!0,i.collection=[],t(function(){i.answer=!1},300),o(.2)().then(function(){l.resolve()})},this.mapGameStateToAnswer=function(){return r.colors[i.collection[0].name].value===i.collection[1].value?"yes":"no"},this.mapKeyToAnswer=function(a){if(i.answer)return angular.undefined;switch(a){case 39:return"yes";case 37:return"no"}return angular.undefined}}])},"8v5g":function(a,e){a.exports=PIXI},"9/DC":function(a,e){a.exports="<div ng-controller=GameCtrl class=\"game-screen game-screen--color-match-2\"> <wg-menu></wg-menu> <wg-answer-result></wg-answer-result> <wg-game-answer-yes-no on-click=answer(click) disabled=gameState.answer ng-show=\"$root.countDown.left == 0\"></wg-game-answer-yes-no> <div ui-view=stages></div> <div class=game-color-match-2> <div class=game-color-match-2__inner> <h3 class=game-color-match-2__task-text ng-if=gameState.init> {{ 'game.title'|translate }} </h3> <div class=game-color-match-2__cards> <div class=game-color-match-2__card-wrap> <h5 class=game-color-match-2__card-title> {{ 'game.value'|translate|capitalize }} </h5> <div class=game-color-match-2__card ng-if=gameState.init ng-class=\"{'game-color-match-2__card--rotate':gameState.answer}\"> <span class=game-color-match-2__card-value ng-if=gameState.collection[0] ng-style=\"{'color':gameState.collection[0].value}\"> {{ gameState.collection[0].nameTitle|translate|capitalize }} </span> </div> </div> <div class=game-color-match-2__card-wrap> <h5 class=game-color-match-2__card-title> {{ 'game.color'|translate|capitalize }} </h5> <div class=game-color-match-2__card ng-if=gameState.init ng-class=\"{'game-color-match-2__card--rotate':gameState.answer}\"> <span class=game-color-match-2__card-value ng-if=gameState.collection[1] ng-style=\"{'color':gameState.collection[1].value}\"> {{ gameState.collection[1].nameTitle|translate|capitalize }} </span> </div> </div> </div> </div> </div> </div> "},HWZb:function(a,e){a.exports=p2},QqZs:function(a,e,t){"use strict";angular.module("wgGame").config(["$stateProvider",function(a){a.state("game",{views:{pages:{templateUrl:"game-container.html"},"container@game":{template:t("9/DC")}}})}])},Teiv:function(a,e,t){"use strict";angular.module("wgGame").run(["$state",function(a){a.go("firstGameIframe"==window.name?"screen11":"loading")}])},Ww0B:function(a,e,t){"use strict";t("/jXN").module("wgGame",["wgCore"]).constant("gameName","color-match-2")},"jZ+C":function(a,e,t){"use strict";t("Ww0B"),t("QqZs"),t("7sub"),t("pRCW"),t("613o"),t("Teiv"),t("7A1M")},kGPB:function(a,e){a.exports="<div class=\"game-training game-screen game-screen--color-match-2\"> <wg-game-answer-yes-no ng-class=\"'game-answer-' + mapGameStateToAnswer()\" on-click=answer(click)></wg-game-answer-yes-no> <div class=game-color-match-2> <div class=game-color-match-2__inner> <h3 class=game-color-match-2__task-text> {{ 'game.title'|translate }} </h3> <div class=game-color-match-2__cards> <div class=game-color-match-2__card-wrap> <h5 class=game-color-match-2__card-title> {{ 'game.value'|translate|capitalize }} </h5> <div class=game-color-match-2__card ng-if=gameState.init ng-class=\"{'game-color-match-2__card--rotate':gameState.answer}\"> <span class=game-color-match-2__card-value ng-if=gameState.collection[0] ng-style=\"{'color':gameState.collection[0].value}\"> {{ gameState.collection[0].nameTitle|translate|capitalize }} </span> </div> </div> <div class=game-color-match-2__card-wrap> <h5 class=game-color-match-2__card-title> {{ 'game.color'|translate|capitalize }} </h5> <div class=game-color-match-2__card ng-if=gameState.init ng-class=\"{'game-color-match-2__card--rotate':gameState.answer}\"> <span class=game-color-match-2__card-value ng-if=gameState.collection[1] ng-style=\"{'color':gameState.collection[1].value}\"> {{ gameState.collection[1].nameTitle|translate|capitalize }} </span> </div> </div> </div> </div> </div> </div> "},tzQp:function(a,e){a.exports=Phaser}},["jZ+C"]);