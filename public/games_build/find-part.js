webpackJsonp([27],{"8v5g":function(t,e){t.exports=PIXI},HWZb:function(t,e){t.exports=p2},IJAR:function(t,e,i){"use strict";var a,r;a=[i("/jXN")],void 0!==(r=function(t){function e(t){this.play=function(){t.go("game")}}t.module("wgGame").config(["$stateProvider",function(t){t.state("game-tutorial",{views:{"tutorial@":{template:i("Jt61"),controller:["$state",e],controllerAs:"$ctrl"}}})}])}.apply(e,a))&&(t.exports=r)},Jt61:function(t,e){t.exports='<div class="game-tutorial game-screen game-screen--find-part"> <div class=find-part> <div class="find-part__inner find-part__inner--3parts"> <h3 class=game-screen__task>{{ \'game.title\'|translate }}</h3> <div class=find-part__reference> <div class=find-part__reference-inner> <div class=find-part__part> <div class=find-part__part-item style=height:61%></div> <div class=find-part__part-item style=height:94%></div> <div class=find-part__part-item style=height:71%></div> <div class=find-part__part-item style=height:65%></div> <div class=find-part__part-item style=height:79%></div> <div class=find-part__part-item style=height:82%></div> </div> </div> </div> <div class=find-part__parts> <button class="find-part__part find-part__part--rotate90 find-part__part--disable"> <div class=find-part__part-item style=height:75%></div> <div class=find-part__part-item style=height:50%></div> <div class=find-part__part-item style=height:58%></div> <div class=find-part__part-item style=height:57%></div> <div class=find-part__part-item style=height:48%></div> <div class=find-part__part-item style=height:64%></div> </button> <button class="find-part__part find-part__part--rotate0"> <div class=find-part__part-item style=height:58%></div> <div class=find-part__part-item style=height:61%></div> <div class=find-part__part-item style=height:75%></div> <div class=find-part__part-item style=height:69%></div> <div class=find-part__part-item style=height:46%></div> <div class=find-part__part-item style=height:79%></div> <div class=game-tutorial__arm></div> </button> <button class="find-part__part find-part__part--rotate270 find-part__part--disable"> <div class=find-part__part-item style=height:42%></div> <div class=find-part__part-item style=height:79%></div> <div class=find-part__part-item style=height:65%></div> <div class=find-part__part-item style=height:40%></div> <div class=find-part__part-item style=height:65%></div> <div class=find-part__part-item style=height:51%></div> </button> </div> </div> </div> <div class="game-screen game-screen--tutorial game-tutorial" ng-click=$ctrl.play()> <div class=game-screen__inner> <div class=game-screen__text ng-bind-html="\'game.tutorial_screen.info\'|translate"></div> </div> </div> </div> '},Scxm:function(t,e){t.exports='<div ng-controller=GameCtrl class="game-screen game-screen--find-part"> <wg-menu></wg-menu> <div ui-view=stages></div> <div class="find-part find-part--animation" ng-class=gameState.answerClass ng-if="$root.countDown.left == 0"> <div class="find-part__inner find-part__inner--3parts" ng-class=gameState.innerClass> <div class=find-part__reference ng-if=gameState.init> <div class=find-part__reference-inner ng-if=!gameState.hideAnswer> <div class=find-part__answer ng-if=gameState.answer> <div class=find-part__part-item ng-style=part.style ng-repeat="part in gameState.answer.parts"></div> </div> <div class=find-part__part ng-if=gameState.target> <div class=find-part__part-item ng-style=part.style ng-repeat="part in gameState.target.parts"></div> </div> </div> </div> <div class=find-part__parts> <button class=find-part__part ng-class=collection.class ng-repeat="collection in gameState.collection" ng-click="gameState.disabled ? \'\' : answer($index)" ng-disabled=gameState.disabled> <div class=find-part__part-item ng-style=part.style ng-repeat="part in collection.parts"></div> </button> </div> </div> </div> </div> '},VVXH:function(t,e,i){"use strict";angular.module("wgGame").run(["$state",function(t){t.go("loading")}])},lzHR:function(t,e,i){"use strict";angular.module("wgGame").config(["$stateProvider",function(t){t.state("game",{views:{pages:{templateUrl:"game-container.html"},"container@game":{template:i("Scxm")}}})}])},r9YW:function(t,e,i){"use strict";i("yhI6"),i("lzHR"),i("wtGE"),i("pRCW"),i("w1Uy"),i("VVXH"),i("IJAR")},tzQp:function(t,e){t.exports=Phaser},w1Uy:function(t,e){},wtGE:function(t,e,i){"use strict";var a=i("PFIM");angular.module("wgGame").service("MatchGameStrategy",["$rootScope","wgBonuses","wgGameOverOnTime","wgProperties","$q","wgWaitSeconds","$timeout",function(t,e,i,r,n,s,d){function l(t,e){for(var i=[],r=0;r<t;r++){for(var n={parts:[]},s=0;s<e;s++){var d=a.getRandomFromArray(g);n.parts.push({style:{height:d+"%"},size:d})}n.class="find-part__part--rotate"+a.getRandomFromArray(o),i.push(n)}return i}function c(t){for(var e=a.getRandomInt(0,t.length-1),i={parts:[],index:e},r=angular.copy(t[e]),n=r.parts.reverse(),s=0;s<n.length;s++){var d=140-n[s].size;i.parts.push({style:{height:d+"%"},size:d})}return i}var p,o=[0,90,270],g=[40,45,50,55,60,65,70,75,80],f=!1,v=r.build(),_={init:!1,hideAnswer:!1,innerClass:"find-part__inner--"+v.getProperty("strategy.numberOfChoices")+"parts"};t.$on("show-answer-is-right",function(){_.answerClass="find-part--success",d(function(){_.answerClass=null},600)}),t.$on("show-answer-is-wrong",function(){_.answerClass="find-part--error",d(function(){_.answerClass=null},600)}),this.buildInitialGameState=function(){return _},this.buildGameState=function(){var t;return _.init||(s(.5)().then(function(){_.init=!0}),t=s(1.2)()),n.when(t).then(function(){_.answer=!1,_.target=!1,_.hideAnswer=!1,p&&p.resolve(),p=n.defer();var t=v.getProperty("strategy.numberOfChoices"),e=l(t,6);_.disabled=!1,_.collection=e,_.target=c(e),_.innerClass="find-part__inner--"+e.length+"parts"})},this.isOver=function(){return f=!0,!p.promise||p.promise},this.handleAnswer=function(t){return _.disabled=!0,t!==_.target.index?_.collection[t].class+=" find-part__part--error":(_.collection[t].class+=" find-part__part--success",_.answer=_.collection[t]),s(.4)()},this.handleAnswerResult=function(){return f&&(_.init=!1),_.collection=!1,_.disabled=!0,_.hideAnswer=!0,s(.4)().then(function(){p.resolve()})},this.mapGameStateToAnswer=function(){return _.target.index},this.mapKeyToAnswer=function(t){if(48<=t&&t<=57)return t-48}}])},yhI6:function(t,e,i){"use strict";i("/jXN").module("wgGame",["wgCore"]).constant("gameName","find-part")}},["r9YW"]);