webpackJsonp([32],{"+6sj":function(t,e,n){"use strict";n("/jXN").module("wgGame",["wgCore"]).constant("gameName","count-objects")},"8v5g":function(t,e){t.exports=PIXI},DoW7:function(t,e){t.exports='<div class="game-training game-screen game-screen--game-count-objects"> <div class=count-objects> <div class=count-objects__inner> <div class=count-objects__task-text> {{ \'game.title\'|translate:{color:\'blue\'}|capitalize }} </div> <div class=count-objects__centered> <div class=count-objects__items ng-class=gameState.lineClass> <div class=count-objects__items-inner> <div class=count-objects__items-inner> <div class=count-objects__line> <div class="count-objects__item count-objects__item--gray"></div> <div class="count-objects__item count-objects__item--blue"></div> <div class="count-objects__item count-objects__item--gray"></div> <div class="count-objects__item count-objects__item--blue"></div> </div> <div class=count-objects__line> <div class="count-objects__item count-objects__item--gray"></div> <div class="count-objects__item count-objects__item--gray"></div> <div class="count-objects__item count-objects__item--blue"></div> <div class="count-objects__item count-objects__item--gray"></div> </div> <div class=count-objects__line> <div class="count-objects__item count-objects__item--blue"></div> <div class="count-objects__item count-objects__item--gray"></div> <div class="count-objects__item count-objects__item--blue"></div> <div class="count-objects__item count-objects__item--gray"></div> </div> </div> </div> </div> </div> <div class=count-objects__btns> <button class=count-objects__btn>3</button> <button class=count-objects__btn>4</button> <button class="count-objects__btn count-objects__btn-active" ng-click=answer()>5</button> <button class=count-objects__btn>6</button> </div> </div> </div> </div> '},Exao:function(t,e){t.exports='<div ng-controller=GameCtrl class="game-screen game-screen--game-count-objects"> <wg-answer-result></wg-answer-result> <wg-menu></wg-menu> <div ui-view=stages></div> <div class=count-objects> <div class=count-objects__inner ng-class=gameState.innerClass> <div class=count-objects__task-text> {{ \'game.title\'|translate:{color:gameState.color}|capitalize }} </div> <div class=count-objects__centered> <div class=count-objects__items ng-class=gameState.lineClass ng-if=gameState.matrix> <div class=count-objects__items-inner> <div class=count-objects__line ng-repeat="line in gameState.matrix"> <div class=count-objects__item ng-class=item.classes ng-repeat="item in line"></div> </div> </div> </div> </div> <div class=count-objects__btns ng-if=gameState.poll> <button class=count-objects__btn ng-repeat="number in gameState.poll" ng-click=answer(number)> {{number}} </button> </div> </div> </div> </div> '},HWZb:function(t,e){t.exports=p2},I7d8:function(t,e,n){"use strict";n("+6sj"),n("Q06m"),n("WfGd"),n("pRCW"),n("fNLk"),n("s5v4"),n("uv1C")},Q06m:function(t,e,n){"use strict";angular.module("wgGame").config(["$stateProvider",function(t){t.state("game",{views:{pages:{templateUrl:"game-container.html"},"container@game":{template:n("Exao")}}})}])},WfGd:function(t,e,n){"use strict";var o=n("PFIM");angular.module("wgGame").service("MatchGameStrategy",["wgError","wgProperties","wgWaitSeconds","$timeout","$q",function(t,e,n,s,c){function i(t,e){var n=[],o=l.getProperty("matrix.additionalColors")||[],s=l.getProperty("matrix.additionalColorProbability")||0,c=a(t,e),i=[];o>0&&(i=m.slice(0,o));for(var u=0;u<e;u++){for(var r=[],d=0;d<t;d++){var v=c.collection.pop(),b="";b=Math.random()<s&&!v&&i.length>0?"count-objects__item--"+i.random():"count-objects__item--gray",v&&(b="count-objects__item--"+_),r.push({classes:b})}n.push(r)}return{activeCount:c.activeCount,matrix:n}}function a(t,e){var n,o=[],s=l.getProperty("matrix.active.min"),c=l.getProperty("matrix.active.max"),i=s+Math.floor((c-s)*Math.random()),a=t*e-i;for(n=i;--n>=0;)o.push(!0);for(n=a;--n>=0;)o.push(!1);return o.sort(function(){return Math.random()-.5}),{activeCount:i,collection:o}}var u,r,l,m=["red","blue","yellow","green"],_=o.getRandomFromArray(m);m.splice(m.indexOf(_),1),this.buildInitialGameState=function(){return l=e.build(),u={color:_,matrix:null,pool:null}},this.buildGameState=function(){r&&r.resolve(),r=c.defer();for(var t=l.getProperty("matrix.w"),e=l.getProperty("matrix.h"),o=i(t,e),s=l.getProperty("countOfPollOptions"),a=[],m=function(t){return t>0?t:1}(o.activeCount-Math.floor(s*Math.random())),_=m+s;m<_;m++)a.push(m);return u.lineClass=5===t&&4===e?"count-objects__items--1":6===t&&4===e?"count-objects__items--2":7===t&&4===e?"count-objects__items--3":8===t&&4===e?"count-objects__items--4":null,u.innerClass="count-objects__inner--"+e,u.activeCount=o.activeCount,n(0)().then(function(){u.matrix=o.matrix,u.poll=a})},this.handleAnswer=function(){return u.matrix=null,u.poll=null,n(.7)().then(function(){r.resolve()})},this.mapGameStateToAnswer=function(){return u.activeCount},this.isOver=function(){return!r.promise||r.promise},this.mapKeyToAnswer=function(){return angular.undefined}}])},fNLk:function(t,e){},s5v4:function(t,e,n){"use strict";angular.module("wgGame").run(["$state",function(t){t.go("loading")}])},tzQp:function(t,e){t.exports=Phaser},uv1C:function(t,e,n){"use strict";var o,s;o=[n("/jXN")],void 0!==(s=function(t){function e(t,e){e.answer=function(){t.go("game")}}t.module("wgGame").config(["$stateProvider",function(t){t.state("game-training",{views:{pages:{template:n("DoW7"),controller:["$state","$scope",e]}}})}])}.apply(e,o))&&(t.exports=s)}},["I7d8"]);